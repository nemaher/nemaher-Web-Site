<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>WDV221 Intro Javascript - Shipping Calculator Project</title>
<script>

function getShipping(){
		var price = document.getElementById("product").value;
		var quantity = document.getElementById("quantity").value;
		
		salesTotal= price * quantity;
		
		var taxRate = document.getElementById("state").value;
		
		taxRate *= salesTotal;
		
		var shipRate = document.getElementById("shipping").value;
		shipRate = parseFloat(shipRate);
		
		salesTotal += shipRate;
		salesTotal += taxRate;
		
		salesTotal = currency(salesTotal);
		document.getElementById("total").value = salesTotal;
}

function currency(Input) {
   //Input=eval(Input)
   WorkNum=Math.abs((Math.round(Input*100)/100))
   Decimal=""+WorkNum
   
//alert( Decimal.indexOf(".") );

   if (Decimal.indexOf(".")==-1)
      {Decimal+=".00"}
   
   strDollar=Decimal.substr(0,Decimal.indexOf("."))
   intDollar=strDollar-0

   DecimalPos=Decimal.substr(Decimal.indexOf("."))
   
   while (DecimalPos.length<3)
      {DecimalPos+="0"}

   if (intDollar>=1000)
      {
      DollarLen=strDollar.length
      strDollar=parseInt(""+(intDollar/1000))+","+strDollar.substring(DollarLen-3,DollarLen)
      }

   if (intDollar>=1000000)
      {
      DollarLen=strDollar.length
      strDollar=parseInt(""+(intDollar/1000000))+","+strDollar.substring(DollarLen-7,DollarLen)
      }

   strCurrency = strDollar + DecimalPos 

   if (Input<0) {strCurrency="("+strCurrency+")"}
   
   return "$"+strCurrency;
}
</script>
</head>
<body>
<h1>WDV221 Intro Javascript</h1>
<h2>Shipping Calculation Project</h2>
<h1 align="center">Calculate Your Order</h1>
<form name="frmProd"  method="post" action="">
  <table border="1">
    <tr>
      <td width="53%">Select Product:</td>
      <td width="47%">
      	<select size="1" name="product" id="product">
          <option value="0" selected>Please Select a Product</option>
          <option value="1.99">Book</option>
          <option value=".99">Pen</option>
          <option value=".25">Pencil</option>
        </select></td>
    </tr>
    <tr>
      <td>Quantity:</td>
      <td><input name="quantity" type="text" id="quantity" size="5"></td>
    </tr>
    <tr>
      <td>Shipping State (Tax Purposes): </td>
      <td><select size="1" name="state" id="state">
          	<option selected value="0.06">Iowa</option>
          	<option value="0.085" >Illinois</option>
          	<option value="0.7">Indiana</option>
          	<option value="0.0">Other</option>
          </select></td>
    </tr>
    <tr>
      <td>Delivery Method:</td>
      <td><select size="1" name="shipping" id="shipping">
        <option value="9.50" selected>Standard UPS - 3 Days</option>
        <option value="6.50">US Mail - 5 Days</option>
        <option value="19.95">Overnight - 1 Day</option>
        <option value="0.0">Pickup</option>
      </select></td>
    </tr>
    <tr>
      <td>Your Total is: </td>
      <td><input name="total" value="$0.00" id="total"></td>
    </tr>
  </table>
  <p>
    <input type="button" value="Calculate My Order Now!" name="button" onClick="getShipping()">
    <input type="reset" name="Reset" id="button" value="Reset Form">
  </p>
</form>
<h2>Project Instructions:</h2>
<ol>
  <li>Create a function called getShipping that is called when you click the &quot;Calculate My Order Now&quot; button.</li>
  <li>When a product is selected the function should get the price for the selected product and store it in a local variable.</li>
  <li>Take the quantity entered on the form and store it in a local variable.</li>
  <li>Calculate a salesTotal using price * quantity.</li>
  <li>When the taxing state is selected, determine the tax rate based upon the selected state. </li>
  <li>Calculate the tax amount on the sales total as taxRate * salesTotal. Store the tax amount in a local variable. </li>
  <li>When the Delivery Method is selected the function should get the delivery fee from the selected delivery method. </li>
  <li>Determine the shipping cost based upon the selected shipping method.</li>
  <li>Determine the total bill by adding the sales total, tax amount and shipping cost. Place the combined amount in the total field</li>
  <li>Format the total amount by using a dollar format function.</li>
</ol>
</body>
</html>
